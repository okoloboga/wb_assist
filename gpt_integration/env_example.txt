# gpt_integration env example

# Порт сервиса
GPT_PORT=9000

# Ключ для авторизации (совпадает с сервером)
API_SECRET_KEY=changeme

# Адрес сервера Bot API (данные для анализа)
SERVER_HOST=http://server:8000

# Адрес бота (приём вебхуков)
BOT_WEBHOOK_BASE=http://bot:8001

# OpenAI / Совместимый провайдер
OPENAI_API_KEY=your_openai_api_key
# OPENAI_BASE_URL=https://api.openai.com/v1
# Если OpenAI API недоступен в вашем регионе (ошибка 403 unsupported_country_region_territory),
# используйте альтернативный endpoint:
# - Прокси-сервер для OpenAI API (например, через Cloudflare Workers)
# - OpenAI-совместимый провайдер: Azure OpenAI, Anyscale, Together AI, и др.
# Пример: OPENAI_BASE_URL=https://api.anyscale.com/v1
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.2
OPENAI_MAX_TOKENS=4000
OPENAI_TIMEOUT=60
# OPENAI_SYSTEM_PROMPT=опционально, переопределение системного промпта

# Stage 5: параметры ретраев LLM
# Количество повторов при ошибках или пустом ответе
OPENAI_MAX_RETRIES=2
# Начальная задержка между повторами (мс)
OPENAI_RETRY_DELAY_MS=500
# Множитель экспоненциального бэк-оффа
OPENAI_RETRY_BACKOFF=2

# Примечание: при локальном запуске убедитесь, что импорт bot/utils доступен,
# например запуская из корня проекта или установив PYTHONPATH на корень.