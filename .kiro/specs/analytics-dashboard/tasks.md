# План разработки

## Этап 1: Инициализация проекта и базовая настройка

- [x] 1. Создать структуру проекта


  - Инициализировать React проект с Vite и TypeScript
  - Настроить Tailwind CSS
  - Установить необходимые зависимости (React Query, Recharts, Axios, Lucide React)
  - Создать базовую структуру папок (api, components, hooks, types, utils)
  - Настроить ESLint и Prettier
  - _Требования: 5.1, 5.2_



- [ ] 2. Настроить конфигурацию окружения
  - Создать .env.example с переменными окружения
  - Создать .env.development для локальной разработки
  - Настроить vite.config.ts для работы с env переменными
  - Добавить .gitignore для исключения .env файлов



  - _Требования: 5.4, 6.3_

- [ ] 3. Создать базовые типы данных
  - Определить типы для временных периодов (TimePeriod)
  - Создать интерфейсы для метрик заказов (OrderMetrics, OrdersData)
  - Создать интерфейсы для данных складов (WarehouseItem, WarehouseData)
  - Создать общие типы (ApiResponse, ChartDataPoint)
  - _Требования: 1.1, 2.1_

## Этап 2: API клиент и хуки для работы с данными

- [ ] 4. Настроить API клиент
  - Создать Axios instance с базовым URL
  - Настроить interceptors для обработки ошибок
  - Добавить timeout и retry логику
  - Создать функции для запросов к orders API
  - Создать функции для запросов к warehouse API
  - _Требования: 4.1, 4.3_

- [ ] 5. Создать custom hooks для данных
  - Реализовать useOrders hook с React Query
  - Реализовать useWarehouse hook с React Query
  - Настроить кэширование данных (staleTime, cacheTime)
  - Добавить обработку состояний загрузки и ошибок
  - _Требования: 4.1, 4.2, 4.4_

- [ ] 6. Создать utility функции
  - Функции форматирования чисел (formatNumber)
  - Функции форматирования дат (formatDate)
  - Константы для временных периодов
  - Константы для breakpoints
  - _Требования: 7.4_

## Этап 3: Компоненты layout и общие компоненты

- [ ] 7. Создать компоненты layout
  - Реализовать Header компонент с заголовком дашборда
  - Реализовать Container компонент для центрирования контента
  - Добавить адаптивные отступы и максимальную ширину
  - Применить минималистичный стиль
  - _Требования: 7.1, 7.2_

- [ ] 8. Создать общие UI компоненты
  - Реализовать LoadingSpinner для индикации загрузки
  - Реализовать ErrorMessage для отображения ошибок
  - Добавить кнопку retry в ErrorMessage
  - Применить единую цветовую схему
  - _Требования: 1.5, 4.3, 7.2, 7.3_

- [ ] 9. Создать TimePeriodSelector компонент
  - Реализовать переключатель временных периодов (день, неделя, месяц, год)
  - Добавить активное состояние для выбранного периода
  - Сделать компонент адаптивным для мобильных устройств
  - Добавить иконки для каждого периода
  - _Требования: 1.2, 1.3, 3.4_

## Этап 4: Компоненты графиков и метрик

- [ ] 10. Создать MetricCard компонент
  - Отобразить название метрики и значение
  - Добавить состояние загрузки (skeleton)
  - Применить минималистичный дизайн карточки
  - Сделать карточку адаптивной
  - _Требования: 1.1, 7.1, 7.5_

- [ ] 11. Создать OrdersChart компонент
  - Интегрировать Recharts для визуализации
  - Реализовать столбцовую диаграмму для метрик заказов
  - Добавить легенду с цветами для каждой метрики
  - Настроить tooltip для отображения деталей
  - Сделать график адаптивным для мобильных устройств
  - _Требования: 1.1, 1.4, 3.3_

- [ ] 12. Создать ChartContainer компонент
  - Обернуть график в контейнер с заголовком
  - Добавить обработку состояний загрузки и ошибок
  - Отобразить время последнего обновления данных
  - Применить единый стиль для всех графиков
  - _Требования: 4.5, 7.5_

## Этап 5: Компоненты складов

- [ ] 13. Создать WarehouseTable компонент
  - Реализовать таблицу с колонками: номенклатура, размер, склад, количество
  - Добавить сортировку по колонкам
  - Сделать таблицу прокручиваемой на мобильных устройствах
  - Добавить состояние загрузки (skeleton rows)
  - _Требования: 2.1, 2.2, 2.3, 2.4, 3.2_

- [ ] 14. Создать WarehouseCard компонент (мобильная версия)
  - Реализовать карточный вид для мобильных устройств
  - Отобразить все данные склада в компактном формате
  - Добавить иконки для визуального разделения данных
  - Применить адаптивную компоновку
  - _Требования: 2.5, 3.1, 3.2_

- [ ] 15. Создать StockItem компонент
  - Отобразить отдельный товар на складе
  - Добавить индикатор количества (цветовая кодировка)
  - Сделать компонент переиспользуемым
  - _Требования: 2.1, 7.4_

## Этап 6: Главный компонент и интеграция

- [ ] 16. Создать Dashboard компонент
  - Интегрировать все секции: метрики, графики, склады
  - Добавить TimePeriodSelector в верхней части
  - Реализовать логику переключения временных периодов
  - Применить адаптивную сетку для layout
  - _Требования: 1.2, 2.1, 7.5_

- [ ] 17. Настроить App компонент
  - Обернуть приложение в QueryClientProvider
  - Добавить глобальные стили
  - Настроить React Query DevTools для разработки
  - Добавить обработку глобальных ошибок
  - _Требования: 4.1, 5.1_

- [ ] 18. Создать useMediaQuery hook
  - Реализовать hook для определения размера экрана
  - Использовать для переключения между desktop/mobile компонентами
  - Добавить debounce для оптимизации
  - _Требования: 3.1, 3.2_

## Этап 7: Адаптивность и оптимизация

- [ ] 19. Реализовать адаптивный дизайн
  - Настроить breakpoints в Tailwind config
  - Применить mobile-first подход
  - Протестировать на разных размерах экранов (320px - 1920px)
  - Оптимизировать размеры шрифтов для мобильных
  - Убедиться в читаемости графиков на маленьких экранах
  - _Требования: 3.1, 3.2, 3.3, 3.5_

- [ ] 20. Оптимизировать производительность
  - Добавить lazy loading для тяжелых компонентов
  - Настроить code splitting
  - Оптимизировать bundle size
  - Добавить мемоизацию для дорогих вычислений
  - _Требования: 6.6_

- [ ] 21. Добавить обработку touch событий
  - Убедиться в работе swipe жестов (если нужно)
  - Увеличить размер кликабельных элементов (min 44px)
  - Протестировать на реальных мобильных устройствах
  - _Требования: 3.4_

## Этап 8: Конфигурация для production

- [ ] 22. Настроить production build
  - Создать npm script для production сборки
  - Настроить минификацию и оптимизацию
  - Добавить source maps для debugging
  - Проверить размер bundle
  - _Требования: 6.1, 6.6_

- [ ] 23. Создать nginx конфигурацию
  - Написать nginx.conf для статических файлов
  - Настроить gzip сжатие
  - Добавить кэширование статических ресурсов
  - Настроить SPA fallback (try_files)
  - Добавить proxy для API (опционально)
  - _Требования: 6.2, 6.4_

- [ ] 24. Настроить переменные окружения для production
  - Создать .env.production файл
  - Документировать все необходимые переменные
  - Добавить валидацию env переменных при старте
  - _Требования: 6.3_

## Этап 9: Тестирование и документация

- [ ]* 25. Написать unit тесты
  - Тесты для utility функций (formatters)
  - Тесты для custom hooks (с mock данными)
  - Тесты для компонентов (rendering, props)
  - Настроить Vitest и React Testing Library

- [ ]* 26. Написать integration тесты
  - Тесты API клиента с MSW
  - Тесты data flow от API до компонентов
  - Тесты обработки ошибок

- [ ] 27. Создать документацию
  - README.md с инструкциями по запуску
  - Документация по структуре проекта
  - Инструкции по deployment
  - Описание API endpoints
  - _Требования: 5.1, 5.2, 6.2_

## Этап 10: Финальная проверка и деплой

- [ ] 28. Провести финальное тестирование
  - Проверить все функции на desktop
  - Проверить все функции на mobile
  - Протестировать разные временные периоды
  - Проверить обработку ошибок API
  - Проверить производительность
  - _Требования: 1.1-1.5, 2.1-2.5, 3.1-3.5, 4.1-4.5_

- [ ] 29. Подготовить к деплою
  - Создать production build
  - Проверить размер bundle
  - Протестировать production build локально
  - Подготовить инструкции для деплоя
  - _Требования: 6.1, 6.2, 6.6_

- [ ] 30. Задокументировать процесс разработки
  - Создать CHANGELOG.md
  - Документировать известные проблемы
  - Добавить roadmap для будущих улучшений
  - Создать contributing guidelines (если open source)
