# üö® S2 ISSUE: –ü—Ä–æ–±–ª–µ–º–∞ —Å –º–∞–ø–ø–∏–Ω–≥–æ–º –¥–∞–Ω–Ω—ã—Ö WB API

## üéØ –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**WB API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –í–°–ï –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–∞—à –∫–æ–¥ –∏—Ö –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢!**

### üìä –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç WB API

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ `https://statistics-api.wildberries.ru/api/v1/supplier/orders` WB API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–∫–∞–∑–∞:

```json
{
  "date": "2025-09-05T21:58:08",
  "lastChangeDate": "2025-09-06T00:21:11",
  "warehouseName": "–¢—É–ª–∞",                    // ‚úÖ –ï–°–¢–¨! –°–∫–ª–∞–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  "warehouseType": "–°–∫–ª–∞–¥ WB",
  "countryName": "–†–æ—Å—Å–∏—è",
  "oblastOkrugName": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥",
  "regionName": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",         // ‚úÖ –ï–°–¢–¨! –†–µ–≥–∏–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏
  "supplierArticle": "slavabrand_blouse_chiffon_white",
  "nmId": 255366800,
  "barcode": "2041002704600",
  "category": "–û–¥–µ–∂–¥–∞",                       // ‚úÖ –ï–°–¢–¨! –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞
  "subject": "–ë–ª—É–∑–∫–∏",                        // ‚úÖ –ï–°–¢–¨! –ü—Ä–µ–¥–º–µ—Ç —Ç–æ–≤–∞—Ä–∞
  "brand": "SLAVALOOK BRAND",
  "techSize": "S",
  "incomeID": 30272851,
  "isSupply": false,
  "isRealization": true,
  "totalPrice": 3000,                         // ‚úÖ –ï–°–¢–¨! –¶–µ–Ω–∞ –∑–∞–∫–∞–∑–∞
  "discountPercent": 60,                      // ‚úÖ –ï–°–¢–¨! –°–∫–∏–¥–∫–∞
  "spp": 36,                                  // ‚úÖ –ï–°–¢–¨! –°–ü–ü –ø—Ä–æ—Ü–µ–Ω—Ç
  "finishedPrice": 768,                       // ‚úÖ –ï–°–¢–¨! –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
  "priceWithDisc": 1200,                      // ‚úÖ –ï–°–¢–¨! –¶–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π
  "isCancel": false,
  "cancelDate": "0001-01-01T00:00:00",
  "sticker": "35572238989",
  "gNumber": "91388477343660116602",
  "srid": "17911162113526944.0.0"
}
```

### ‚ùå –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ –±–æ—Ç–µ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û)

```json
{
  "id": 14807,
  "date": "2025-09-07T21:12:32+00:00",
  "amount": 3000.0,
  "product_name": "–ë–ª—É–∑–∫–∏",
  "brand": "SLAVALOOK BRAND",
  "warehouse_from": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",             // ‚ùå –ó–ê–ì–õ–£–®–ö–ê!
  "warehouse_to": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",               // ‚ùå –ó–ê–ì–õ–£–®–ö–ê!
  "commission_percent": 20.0,                 // ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
  "rating": 0.0,                              // ‚ùå –ó–ê–ì–õ–£–®–ö–ê!
  "order_amount": 0,                          // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
  "spp_percent": 0,                           // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
  "customer_price": 0,                        // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
  "logistics_amount": 0.0                     // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
}
```

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –ë–î –ò WB API**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î –ø–æ–∫–∞–∑–∞–ª–∞, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `wb_orders` –û–¢–°–£–¢–°–¢–í–£–Æ–¢ –ù–£–ñ–ù–´–ï –ü–û–õ–Ø!**

#### ‚úÖ **–ß—Ç–æ –ï–°–¢–¨ –≤ –ë–î:**
```sql
-- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –≤ wb_orders:
id, cabinet_id, order_id, nm_id, article, name, brand, size, barcode, 
category, subject, quantity, price, total_price, commission_percent, 
commission_amount, order_date, status, created_at, updated_at
```

#### ‚ùå **–ß–µ–≥–æ –ù–ï–¢ –≤ –ë–î (–Ω–æ –µ—Å—Ç—å –≤ WB API):**
```sql
-- –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–ï –ø–æ–ª—è:
warehouse_from    -- warehouseName –æ—Ç WB API
warehouse_to      -- regionName –æ—Ç WB API  
spp_percent       -- spp –æ—Ç WB API
customer_price    -- finishedPrice –æ—Ç WB API
discount_percent  -- discountPercent –æ—Ç WB API
logistics_amount  -- —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
```

### üìä **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î (–∑–∞–∫–∞–∑ 14807):**
```sql
SELECT id, order_id, nm_id, name, brand, price, total_price, commission_percent 
FROM wb_orders WHERE id = 14807;

-- –†–µ–∑—É–ª—å—Ç–∞—Ç:
id: 14807, order_id: 9929878247256676642, nm_id: 255366800, 
name: –ë–ª—É–∑–∫–∏, brand: SLAVALOOK BRAND, price: 684, 
total_price: 3000, commission_percent: 20, commission_amount: 600
```

### üéØ **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**

1. **WB API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `warehouseName: "–¢—É–ª–∞"`, `spp: 36`, `finishedPrice: 768`
2. **–í –ë–î –ù–ï–¢ –ø–æ–ª–µ–π** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. **sync_service.py** –Ω–µ –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –º–æ–¥–µ–ª–∏
4. **bot_api/service.py** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥–ª—É—à–∫–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –≤ –ë–î

### 1. **–ü–æ–ª—è —Å–∫–ª–∞–¥–æ–≤** - `warehouse_from` –∏ `warehouse_to`
- **WB API –¥–∞–µ—Ç:** `warehouseName: "–¢—É–ª–∞"`, `regionName: "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"`
- **–í –ë–î:** **–ü–û–õ–ï–ô –ù–ï–¢!** ‚ùå
- **–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:** `"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"` (–∑–∞–≥–ª—É—à–∫–∏ –≤ –∫–æ–¥–µ)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å WBOrder –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–∏ –ø–æ–ª—è

### 2. **–¶–µ–Ω—ã –∏ –°–ü–ü** - `order_amount`, `spp_percent`, `customer_price`
- **WB API –¥–∞–µ—Ç:** `totalPrice: 3000`, `spp: 36`, `finishedPrice: 768`
- **–í –ë–î:** **–ü–û–õ–ï–ô –ù–ï–¢!** ‚ùå
- **–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:** `0` (–∑–∞–≥–ª—É—à–∫–∏)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å WBOrder –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–∏ –ø–æ–ª—è

### 3. **–õ–æ–≥–∏—Å—Ç–∏–∫–∞** - `logistics_amount`
- **WB API –¥–∞–µ—Ç:** –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏
- **–í –ë–î:** **–ü–û–õ–Ø –ù–ï–¢!** ‚ùå
- **–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:** `0.0` (–∑–∞–≥–ª—É—à–∫–∞)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å WBOrder –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–æ –ø–æ–ª–µ

### 4. **–†–µ–π—Ç–∏–Ω–≥–∏** - `rating`
- **WB API –¥–∞–µ—Ç:** –ù–µ—Ç –≤ –∑–∞–∫–∞–∑–∞—Ö (–Ω—É–∂–Ω–æ –∏–∑ –æ—Ç–∑—ã–≤–æ–≤)
- **–í –ë–î:** **–ü–û–õ–Ø –ù–ï–¢!** ‚ùå
- **–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:** `0.0` (–∑–∞–≥–ª—É—à–∫–∞)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∏–∑ API –æ—Ç–∑—ã–≤–æ–≤

## üéØ –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã

### **üö® –ì–õ–ê–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –ú–û–î–ï–õ–¨ –ë–î –ù–ï –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ WB API**

**–í –º–æ–¥–µ–ª–∏ `WBOrder` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç WB API!**

### **–í `models.py`:**
1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è —Å–∫–ª–∞–¥–æ–≤** - –Ω–µ—Ç `warehouse_from`, `warehouse_to`
2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è —Ü–µ–Ω** - –Ω–µ—Ç `spp_percent`, `customer_price`, `discount_percent`
3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è –ª–æ–≥–∏—Å—Ç–∏–∫–∏** - –Ω–µ—Ç `logistics_amount`
4. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤** - –Ω–µ—Ç `rating`, `reviews_count`

### **–í `sync_service.py`:**
1. **–ù–µ –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** - –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –º–æ–¥–µ–ª–∏
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥** - –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ —Ç–µ –ø–æ–ª—è –∏–∑ WB API
3. **–ó–∞–≥–ª—É—à–∫–∏ –≤ Bot API** - –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"

### **–í `bot_api/service.py`:**
1. **–ó–∞–≥–ª—É—à–∫–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - —Å—Ç—Ä–æ–∫–∏ 155-156
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è** - –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ —Ç–µ –ø–æ–ª—è –∏–∑ –ë–î
3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞** - –Ω–µ—Ç —Ä–∞—Å—á–µ—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏, –°–ü–ü

## üöÄ –†–µ—à–µ–Ω–∏–µ

### **1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—å WBOrder:**
```python
# –ü–æ–ª—è —Å–∫–ª–∞–¥–æ–≤
warehouse_from = Column(String(255), nullable=True)      # warehouseName
warehouse_to = Column(String(255), nullable=True)         # regionName
# –ü–æ–ª—è —Ü–µ–Ω –∏ –°–ü–ü
order_amount = Column(Float, nullable=True)              # totalPrice
spp_percent = Column(Float, nullable=True)                # spp
customer_price = Column(Float, nullable=True)             # finishedPrice
discount_percent = Column(Float, nullable=True)           # discountPercent
# –ü–æ–ª—è –ª–æ–≥–∏—Å—Ç–∏–∫–∏
logistics_amount = Column(Float, nullable=True)           # —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
```

### **2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤ sync_service.py:**
```python
# –í–º–µ—Å—Ç–æ:
existing.price = order_data.get("finishedPrice")
existing.total_price = order_data.get("totalPrice")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
existing.order_amount = order_data.get("totalPrice")
existing.spp_percent = order_data.get("spp")
existing.customer_price = order_data.get("finishedPrice")
existing.warehouse_from = order_data.get("warehouseName")
existing.warehouse_to = order_data.get("regionName")
```

### **3. –£–±—Ä–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –≤ bot_api/service.py:**
```python
# –í–º–µ—Å—Ç–æ:
"warehouse_from": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
"warehouse_to": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
"warehouse_from": order.warehouse_from or "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
"warehouse_to": order.warehouse_to or "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
```

## üìã –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **üö® –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (–ö–†–ò–¢–ò–ß–ù–û)**
- [ ] **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ WBOrder –º–æ–¥–µ–ª—å** - `warehouse_from`, `warehouse_to`, `spp_percent`, `customer_price`, `discount_percent`, `logistics_amount`
- [ ] **–°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î** - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `wb_orders`
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã** - –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ë–î –æ–±–Ω–æ–≤–∏–ª–∞—Å—å

### **–≠—Ç–∞–ø 2: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
- [ ] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π** –≤ sync_service.py - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è WB API
- [ ] **–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫–∏** - –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º —Å–∫–ª–∞–¥–∞
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è

### **–≠—Ç–∞–ø 3: Bot API**
- [ ] **–£–±—Ä–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏** –≤ bot_api/service.py - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–∑ –ë–î
- [ ] **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—è** - `warehouse_from`, `spp_percent`, `customer_price`
- [ ] **–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö** - –ª–æ–≥–∏—Å—Ç–∏–∫–∞, —Ä–µ–π—Ç–∏–Ω–≥–∏

### **–≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –±–æ—Ç–µ** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] **–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ–ª—è** - —Å—Ä–∞–≤–Ω–∏—Ç—å —Å WB API

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –±–æ—Ç–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:

```json
{
  "id": 14807,
  "date": "2025-09-07T21:12:32+00:00",
  "amount": 3000.0,
  "product_name": "–ë–ª—É–∑–∫–∏",
  "brand": "SLAVALOOK BRAND",
  "warehouse_from": "–¢—É–ª–∞",                    // ‚úÖ –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï!
  "warehouse_to": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",       // ‚úÖ –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï!
  "commission_percent": 20.0,                 // ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
  "order_amount": 3000,                       // ‚úÖ –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï!
  "spp_percent": 36,                          // ‚úÖ –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï!
  "customer_price": 768,                      // ‚úÖ –†–ï–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï!
  "logistics_amount": 161.5,                  // ‚úÖ –†–ê–°–°–ß–ò–¢–ê–ù–ù–´–ï –î–ê–ù–ù–´–ï!
  "rating": 4.8                               // ‚úÖ –ò–ó –û–¢–ó–´–í–û–í!
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### **–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. `server/app/features/wb_api/models.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è
2. `server/app/features/wb_api/sync_service.py` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥
3. `server/app/features/bot_api/service.py` - —É–±—Ä–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏
4. `server/app/features/bot_api/formatter.py` - –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ü–æ–ª—è WB API ‚Üí –ù–∞—à–∏ –ø–æ–ª—è:**
- `warehouseName` ‚Üí `warehouse_from`
- `regionName` ‚Üí `warehouse_to`
- `totalPrice` ‚Üí `order_amount`
- `spp` ‚Üí `spp_percent`
- `finishedPrice` ‚Üí `customer_price`
- `discountPercent` ‚Üí `discount_percent`

### **–†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–ª—è:**
- `logistics_amount` - –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º —Å–∫–ª–∞–¥–∞
- `rating` - –∏–∑ API –æ—Ç–∑—ã–≤–æ–≤
- `reviews_count` - –∏–∑ API –æ—Ç–∑—ã–≤–æ–≤

---

## üéØ **–ò–¢–û–ì–û–í–´–ô –í–´–í–û–î**

### **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê:**

**WB API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –í–°–ï –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –≤ –º–æ–¥–µ–ª–∏ –ë–î `WBOrder` –û–¢–°–£–¢–°–¢–í–£–Æ–¢ –ø–æ–ª—è –¥–ª—è –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!**

### **üìä –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞:**
- ‚úÖ **WB API –¥–∞–µ—Ç:** `warehouseName: "–¢—É–ª–∞"`, `spp: 36`, `finishedPrice: 768`
- ‚ùå **–í –ë–î –ù–ï–¢ –ø–æ–ª–µ–π:** `warehouse_from`, `spp_percent`, `customer_price`
- ‚ùå **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–ª—É—à–∫–∏ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ" –∏ –Ω—É–ª–∏

### **üîß –†–µ—à–µ–Ω–∏–µ:**
1. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—å** `WBOrder` (–ö–†–ò–¢–ò–ß–ù–û!)
2. **–°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î** 
3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥** –≤ `sync_service.py`
4. **–£–±—Ä–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏** –≤ `bot_api/service.py`

---

**–°—Ç–∞—Ç—É—Å:** üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ë–î –∏ WB API  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –í–´–°–û–ö–ò–ô - –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø - —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ 4 —Ñ–∞–π–ª–∞—Ö + –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
