# üìò S3 Backend: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π Wildberries —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—â–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
WBSyncService ‚Üí NotificationService ‚Üí WebhookSender ‚Üí Bot
     ‚Üì              ‚Üì                    ‚Üì
Event Detector ‚Üí Notification Generator ‚Üí BotMessageFormatter
     ‚Üì              ‚Üì
Status Monitor ‚Üí Settings CRUD
     ‚Üì
   Redis Cache
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `server/app/features/notifications/` - —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `server/app/features/wb_api/` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å WB API
- `server/app/features/bot_api/` - API –¥–ª—è –±–æ—Ç–∞

### **–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `notification_service.py` - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- `event_detector.py` - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- `status_monitor.py` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞
- `notification_generator.py` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `cabinet_manager.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π
- `models_cabinet_users.py` - —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏
- `crud_cabinet_users.py` - CRUD –¥–ª—è —Å–≤—è–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### **–¢–∞–±–ª–∏—Ü—ã:**
- `notification_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `order_status_history` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–æ–≤
- `wb_sales` - –ø—Ä–æ–¥–∞–∂–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã
- `cabinet_users` - —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ (–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º)

### **Redis —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
- `notifications:settings:{user_id}` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `notifications:state:{user_id}` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- `notifications:order_status:{user_id}` - —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
- `notifications:queue` - –æ—á–µ—Ä–µ–¥—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### **–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:**
1. **WBSyncService** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å WB API –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
2. **EventDetector** —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏
3. **NotificationService** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **WebhookSender** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±–æ—Ç —á–µ—Ä–µ–∑ webhook
5. **Bot** –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ Telegram

### **–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
- üì¶ –ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
- üí∞ –í—ã–∫—É–ø—ã –∑–∞–∫–∞–∑–æ–≤
- ‚ùå –û—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–æ–≤
- üîÑ –í–æ–∑–≤—Ä–∞—Ç—ã –∑–∞–∫–∞–∑–æ–≤
- ‚≠ê –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç–∑—ã–≤—ã
- üìâ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏

## üîß –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **0. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã**

#### **0.1 –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

#### **0.2 –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     -H "Content-Type: application/json" \
     -d '{
       "telegram_id": 123456789,
       "username": "test_user",
       "first_name": "Test",
       "last_name": "User"
     }' \
     "http://localhost:8000/users/"
```

#### **0.3 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WB Cabinet:**
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞ WB (—Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–∞–±–∏–Ω–µ—Ç)
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=1&api_key=YOUR_API_KEY&name=Test%20Cabinet"

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–∞–±–∏–Ω–µ—Ç—É (–µ—Å–ª–∏ API –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å)
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=2&api_key=EXISTING_API_KEY&name=Team%20Cabinet"
```

#### **0.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–±–∏–Ω–µ—Ç–æ–≤:**
```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=1"
```

### **1. –¢–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

#### **1.1 –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/notifications/settings?telegram_id=123456789"
```

#### **1.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
```bash
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     -H "Content-Type: application/json" \
     -d '{
       "notifications_enabled": true,
       "new_orders_enabled": true,
       "order_buyouts_enabled": true,
       "order_cancellations_enabled": true,
       "order_returns_enabled": true,
       "negative_reviews_enabled": true,
       "critical_stocks_enabled": true
     }' \
     "http://localhost:8000/api/v1/notifications/settings?telegram_id=123456789"
```

### **2. –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

#### **2.1 –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ:**
```bash
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     -H "Content-Type: application/json" \
     -d '{
       "notification_type": "new_order",
       "test_data": {
         "order_id": 999,
         "product_name": "–¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä",
         "amount": 1500,
         "quantity": 1
       }
     }' \
     "http://localhost:8000/api/v1/notifications/test?telegram_id=123456789"
```

#### **2.2 –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã–∫—É–ø–µ:**
```bash
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     -H "Content-Type: application/json" \
     -d '{
       "notification_type": "order_buyout",
       "test_data": {
         "order_id": 999,
         "product_name": "–¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä",
         "amount": 1500,
         "quantity": 1
       }
     }' \
     "http://localhost:8000/api/v1/notifications/test?telegram_id=123456789"
```

### **3. –¢–µ—Å—Ç –∑–∞–∫–∞–∑–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**

#### **3.1 –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/orders/statistics?telegram_id=123456789"
```

#### **3.2 –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É:**
```bash
# –í—Å–µ –∑–∞–∫–∞–∑—ã
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/orders/recent?telegram_id=123456789&limit=5"

# –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/orders/recent?telegram_id=123456789&status=active&limit=5"

# –¢–æ–ª—å–∫–æ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/orders/recent?telegram_id=123456789&status=canceled&limit=5"
```

### **4. –¢–µ—Å—Ç API –ø—Ä–æ–¥–∞–∂:**

#### **4.1 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/sales/statistics?user_id=1"
```

#### **4.2 –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ–¥–∞–∂:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/sales/recent?user_id=1&limit=10"
```

#### **4.3 –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤—ã–∫—É–ø–æ–≤:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/sales/buyouts?user_id=1"
```

#### **4.4 –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/bot/sales/returns?user_id=1"
```

### **5. –¢–µ—Å—Ç –æ–±—â–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤:**

#### **5.1 –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     -H "Content-Type: application/json" \
     -d '{
       "telegram_id": 987654321,
       "username": "second_user",
       "first_name": "Second",
       "last_name": "User"
     }' \
     "http://localhost:8000/users/"
```

#### **5.2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–∞–±–∏–Ω–µ—Ç—É:**
```bash
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=2&api_key=EXISTING_API_KEY&name=Team%20Cabinet"
```

#### **5.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—â–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤:**
```bash
# –ö–∞–±–∏–Ω–µ—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=1"

# –ö–∞–±–∏–Ω–µ—Ç—ã –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=2"
```

### **6. –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ API –∫–ª—é—á–µ–π:**

#### **6.1 –¢–µ—Å—Ç —Å –Ω–µ–≤–µ—Ä–Ω—ã–º API –∫–ª—é—á–æ–º:**
```bash
curl -X POST -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/wb/cabinets/?user_id=1&api_key=INVALID_KEY&name=Test%20Cabinet"
```

#### **6.2 –†—É—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤:**
```bash
curl -H "X-API-SECRET-KEY: CnWvwoDwwGKh" \
     "http://localhost:8000/api/v1/wb/cabinets/validation/validate-all"
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–õ–æ–≥–∏:**
```bash
# –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
docker-compose logs -f server

# –õ–æ–≥–∏ Celery
docker-compose logs -f celery-worker
```

### **Redis:**
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
docker-compose exec redis redis-cli

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–π
> KEYS notifications:*
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `GET /api/v1/notifications/settings`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook URL

### **–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á–∏ WB
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Celery
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis

### **–î—É–±–ª–∏–∫–∞—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
1. –û—á–∏—Å—Ç–∏—Ç—å Redis: `docker-compose exec redis redis-cli FLUSHDB`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- `SYNC_INTERVAL` - –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3 –º–∏–Ω—É—Ç—ã)
- `BOT_WEBHOOK_URL` - URL webhook –¥–ª—è –±–æ—Ç–∞
- `API_SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è API

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- –í—Å–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤–∫–ª—é—á–µ–Ω—ã
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
- Retry –ª–æ–≥–∏–∫–∞: 3 –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

## üÜï –û–±–Ω–æ–≤–ª–µ–Ω–∏—è S3.03

### **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–û–±—â–∏–µ –∫–∞–±–∏–Ω–µ—Ç—ã** - –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∫–∞–±–∏–Ω–µ—Ç
- **–í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤
- **–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤** - —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/v1/bot/orders/statistics`
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤** - –ø–∞—Ä–∞–º–µ—Ç—Ä `status` –¥–ª—è `/api/v1/bot/orders/recent`
- **–ß–µ—Å—Ç–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–∫–∞–∑—ã, –≤–∫–ª—é—á–∞—è –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –£–±—Ä–∞–Ω —Ñ–∏–ª—å—Ç—Ä `WBOrder.status != 'canceled'` –∏–∑ API
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –≤ Sales API
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Claims API
- ‚úÖ –ü–µ—Ä–∏–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ 1 –º–µ—Å—è—Ü
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–≤–æ–π–Ω–∞—è retry –ª–æ–≥–∏–∫–∞ (9 –ø–æ–ø—ã—Ç–æ–∫ ‚Üí 3 –ø–æ–ø—ã—Ç–∫–∏)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏

### **–ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/v1/bot/orders/statistics` - –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- `GET /api/v1/bot/orders/recent?status=active` - –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã
- `GET /api/v1/bot/orders/recent?status=canceled` - –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
- `GET /api/v1/bot/sales/statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
- `POST /wb/cabinets/` - —Å–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–∞–±–∏–Ω–µ—Ç—É
- `GET /wb/cabinets/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/v1/wb/cabinets/validation/validate-all` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–ü–û–õ–ù–£–Æ –∏ –ß–ï–°–¢–ù–£–Æ** –∫–∞—Ä—Ç–∏–Ω—É:
- 11,770 –∑–∞–∫–∞–∑–æ–≤ (4,706 –∞–∫—Ç–∏–≤–Ω—ã—Ö, 7,064 –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö)
- 4,488 –ø—Ä–æ–¥–∞–∂ (4,322 –≤—ã–∫—É–ø–∞, 166 –≤–æ–∑–≤—Ä–∞—Ç–æ–≤)
- 96.3% –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∫—É–ø–∞
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å WB API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—â–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥

---

*–í–µ—Ä—Å–∏—è: S3.03*  
*–°—Ç–∞—Ç—É—Å: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ + –û–±–Ω–æ–≤–ª–µ–Ω–æ*  
*–¢–µ—Å—Ç—ã: 151+ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç*  
*–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 100%*  
*–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: –û–±—â–∏–µ –∫–∞–±–∏–Ω–µ—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π, –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞*
