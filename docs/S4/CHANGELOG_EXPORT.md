# üìã Changelog –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Google Sheets

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç 2025-10-30

### –ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã Google Sheets

#### üì¶ –°–∫–ª–∞–¥
**–ë—ã–ª–æ:**
- A: –ê—Ä—Ç–∏–∫—É–ª (article)
- B: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (stock.name)

**–°—Ç–∞–ª–æ:**
- A: –ê—Ä—Ç–∏–∫—É–ª (nm_id)
- B: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (product.name) ‚Üê **–∏–∑ WBProduct —á–µ—Ä–µ–∑ JOIN**

#### üõí –ó–∞–∫–∞–∑—ã
**–ë—ã–ª–æ:**
- A: –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (order_id)
- B: –ê—Ä—Ç–∏–∫—É–ª (article)
- C: –ù–∞–∑–≤–∞–Ω–∏–µ (order.name)

**–°—Ç–∞–ª–æ:**
- A: –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (order_id)
- B: –ê—Ä—Ç–∏–∫—É–ª (nm_id) ‚Üê **–¥–æ–±–∞–≤–ª–µ–Ω–æ**
- C: –ù–∞–∑–≤–∞–Ω–∏–µ (product.name) ‚Üê **–∏–∑ WBProduct —á–µ—Ä–µ–∑ JOIN**

#### ‚≠ê –û—Ç–∑—ã–≤—ã
- –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç product.name)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

#### `get_stocks_data()`
- –î–æ–±–∞–≤–ª–µ–Ω LEFT JOIN –∫ `WBProduct`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `product.name` –≤–º–µ—Å—Ç–æ `stock.name`

#### `get_orders_data()`
- –î–æ–±–∞–≤–ª–µ–Ω LEFT JOIN –∫ `WBProduct`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `nm_id`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `product.name` –≤–º–µ—Å—Ç–æ `order.name`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –≤ `update_spreadsheet()`
- –ò–∑–º–µ–Ω–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π –¥–ª—è —Å–∫–ª–∞–¥–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –±—É–∫–≤–∞–º–∏ –∫–æ–ª–æ–Ω–æ–∫

### 3. –ò–∑–º–µ–Ω–µ–Ω —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç
**–ë—ã–ª–æ:** `2025-10-30T11:55:33+00:00` (ISO format)  
**–°—Ç–∞–ª–æ:** `2025-10-30 11:55` (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –ø–æ–ª—è:**
- –°–∫–ª–∞–¥: `last_updated`
- –ó–∞–∫–∞–∑—ã: `order_date`
- –û—Ç–∑—ã–≤—ã: `created_date`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/S4/TABLE.md` - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- `docs/S4/S4.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∏—Å—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã SQL –∑–∞–ø—Ä–æ—Å—ã —Å JOIN

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

‚úÖ **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–∞–∑–≤–∞–Ω–∏–π** - –≤—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –±–µ—Ä—É—Ç—Å—è –∏–∑ `wb_products`
‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - nm_id –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ
‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è** - product.name —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
‚úÖ **JOIN –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LEFT JOIN –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –®–∞–±–ª–æ–Ω Google Sheets
–ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –Ω—É–∂–Ω–æ:
1. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –≤—Ä—É—á–Ω—É—é
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω

### –ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

**üì¶ –°–∫–ª–∞–¥ (—Å—Ç—Ä–æ–∫–∞ 1):**
A1: –ê—Ä—Ç–∏–∫—É–ª (nm_id)
B1: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
C1: –ë—Ä–µ–Ω–¥
D1: –†–∞–∑–º–µ—Ä
E1: –°–∫–ª–∞–¥
F1: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
G1: –í –ø—É—Ç–∏ –∫ –∫–ª–∏–µ–Ω—Ç—É
H1: –í –ø—É—Ç–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
I1: –¶–µ–Ω–∞
J1: –°–∫–∏–¥–∫–∞
K1: –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**üõí –ó–∞–∫–∞–∑—ã (—Å—Ç—Ä–æ–∫–∞ 1):**
A1: –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
B1: –ê—Ä—Ç–∏–∫—É–ª (nm_id)
C1: –ù–∞–∑–≤–∞–Ω–∏–µ
D1: –†–∞–∑–º–µ—Ä
E1: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
F1: –¶–µ–Ω–∞
G1: –û–±—â–∞—è —Å—É–º–º–∞
H1: –°—Ç–∞—Ç—É—Å
I1: –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞
J1: –°–∫–ª–∞–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏
K1: –†–µ–≥–∏–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏
L1: –ö–æ–º–∏—Å—Å–∏—è WB
M1: –°–ü–ü %
N1: –¶–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞
O1: –°–∫–∏–¥–∫–∞ %

**‚≠ê –û—Ç–∑—ã–≤—ã (—Å—Ç—Ä–æ–∫–∞ 1):**
A1: ID –æ—Ç–∑—ã–≤–∞
B1: –ê—Ä—Ç–∏–∫—É–ª
C1: –ù–∞–∑–≤–∞–Ω–∏–µ
D1: –†–µ–π—Ç–∏–Ω–≥
E1: –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞
F1: –ü–ª—é—Å—ã
G1: –ú–∏–Ω—É—Å—ã
H1: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
I1: –¶–≤–µ—Ç
J1: –†–∞–∑–º–µ—Ä
K1: –î–∞—Ç–∞ –æ—Ç–∑—ã–≤–∞
L1: –û—Ç–≤–µ—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞
M1: –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω

---

## üìÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**2025-10-30:**
- –ò–∑–º–µ–Ω–µ–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã JOIN —Å WBProduct –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `name` –∏ `image_url`
- –ò–∑–º–µ–Ω–µ–Ω —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç –Ω–∞ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π (YYYY-MM-DD HH:MM)
- –ó–∞–º–µ–Ω–µ–Ω—ã TRUE/FALSE –Ω–∞ ‚úÖ/‚ùå –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö "–û—Ç–≤–µ—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞" –∏ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω"
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–§–æ—Ç–æ" —Å —Ñ–æ—Ä–º—É–ª–æ–π `=IMAGE()` –≤ –°–∫–ª–∞–¥, –ó–∞–∫–∞–∑—ã, –û—Ç–∑—ã–≤—ã
- –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —Å–º–µ—â–µ–Ω—ã –Ω–∞ 1 –ø–æ–∑–∏—Ü–∏—é –≤–ø—Ä–∞–≤–æ
- –ò–∑–º–µ–Ω–µ–Ω `valueInputOption` —Å `RAW` –Ω–∞ `USER_ENTERED` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ä–º—É–ª
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞–∑–º–µ—Ä –≤ –æ—Ç–∑—ã–≤–∞—Ö: –µ—Å–ª–∏ `matching_size` –ø—É—Å—Ç–æ–π –∏–ª–∏ 'ok', –±–µ—Ä–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä –∏–∑ WBStock
- –î–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π: active ‚Üí –ê–∫—Ç–∏–≤–Ω—ã–π, canceled ‚Üí –û—Ç–º–µ–Ω–µ–Ω

*–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π: 2025-10-30*  
*–°—Ç–∞—Ç—É—Å: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ*

