# üìò S2 BACKEND: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏

## üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —á–∞—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Wildberries API, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â—É—é –ø–æ–ª—É—á–µ–Ω–∏–µ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É —á–µ—Ä–µ–∑ REST API.

## ‚úÖ –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 4 —è–Ω–≤–∞—Ä—è 2025  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 85%  
**–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞

### üöÄ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:

#### **‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ:**
- **WB API Client** ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Wildberries API (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)
- **Data Synchronizer** ‚Äî —Å–µ—Ä–≤–∏—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)
- **Cache Manager** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ Redis (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)
- **Database Layer** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL —á–µ—Ä–µ–∑ SQLAlchemy (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)
- **REST API** ‚Äî –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –≤—Å–µ 9 —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ Redis + PostgreSQL (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞)
- **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∑–∞–∫–∞–∑–æ–≤ (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî 124 —Ç–µ—Å—Ç–∞, –ø–æ–∫—Ä—ã—Ç–∏–µ 80%+ (–≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç)

#### **‚ùå –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**
- **Background Scheduler** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏** ‚Äî —Å–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (—á–∞—Å—Ç–∏—á–Ω–æ)
- **Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **Unit —Ç–µ—Å—Ç—ã:** 124 —Ç–µ—Å—Ç–∞ ‚úÖ (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç)
- **Integration —Ç–µ—Å—Ç—ã:** 15 —Ç–µ—Å—Ç–æ–≤ ‚úÖ (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** 80%+ ‚úÖ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** API –æ—Ç–≤–µ—á–∞–µ—Ç <100ms ‚úÖ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö ‚úÖ

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

* **WB API Client** ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Wildberries API
* **Data Synchronizer** ‚Äî —Å–µ—Ä–≤–∏—Å —Ñ–æ–Ω–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
* **Cache Manager** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ Redis
* **Database Layer** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL —á–µ—Ä–µ–∑ SQLAlchemy
* **REST API** ‚Äî —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É
* **Background Scheduler** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
WB API ‚Üí Data Synchronizer ‚Üí PostgreSQL ‚Üí Cache Manager ‚Üí REST API ‚Üí Bot
```

---

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### **users**
* –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram –±–æ—Ç–∞
* –°–≤—è–∑—å —Å –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ Wildberries
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### **wb_cabinets**
* API –∫–ª—é—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
* –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–æ–≤
* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä–µ–≥–∏–æ–Ω)

#### **orders**
* –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
* –°–≤—è–∑—å —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
* –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ü–µ–Ω—ã, –∫–æ–º–∏—Å—Å–∏–∏, –ª–æ–≥–∏—Å—Ç–∏–∫–∞)
* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### **products**
* –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞
* –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
* –°–≤—è–∑—å —Å –∑–∞–∫–∞–∑–∞–º–∏ –∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏

#### **stocks**
* –û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ —Å–∫–ª–∞–¥–∞–º
* –†–∞–∑–º–µ—Ä–Ω—ã–µ —Å–µ—Ç–∫–∏
* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### **reviews**
* –û—Ç–∑—ã–≤—ã –∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
* –†–µ–π—Ç–∏–Ω–≥–∏ –∏ —Ç–µ–∫—Å—Ç—ã
* –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### **analytics_cache**
* –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ç–æ–≤–∞—Ä–∞–º
* –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–¥–∞–∂ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
* –í—ã–∫—É–ø—ã –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–∫–∞–∑–æ–≤
* –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### **warehouses**
* –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–∫–ª–∞–¥–æ–≤
* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ–≥–∏–æ–Ω—ã

#### **sync_logs**
* –õ–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
* –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

---

## ‚ö° –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –¶–µ–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

* **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (50-100ms)
* **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** ‚Äî —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ —Å–±–æ—è—Ö WB API
* **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** ‚Äî —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ API
* **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:**
1. **Redis Cache** (TTL 5-10 –º–∏–Ω—É—Ç) ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
2. **PostgreSQL** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
3. **WB API** ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

#### **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–ª—é—á–µ–π –∫—ç—à–∞:**
* `order:{order_id}` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–∫–∞–∑
* `product:{nm_id}` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ
* `analytics:{nm_id}:{period}` ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
* `stocks:{warehouse_id}:{nm_id}` ‚Äî –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥—É
* `user_orders:{user_id}:{limit}` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### **TTL —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
* **–ó–∞–∫–∞–∑—ã** ‚Äî 5 –º–∏–Ω—É—Ç (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
* **–û—Å—Ç–∞—Ç–∫–∏** ‚Äî 10 –º–∏–Ω—É—Ç (–º–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)
* **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî 15 –º–∏–Ω—É—Ç (—Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è)
* **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏** ‚Äî 30 –º–∏–Ω—É—Ç (—Ç–æ–≤–∞—Ä—ã, —Å–∫–ª–∞–¥—ã)

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã –∫—ç—à–∞

#### **–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis –∫—ç—à–∞
2. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ PostgreSQL
3. –ü—Ä–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ WB API
4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
* **–ü–æ –≤—Ä–µ–º–µ–Ω–∏ (TTL)** ‚Äî –ø—Ä–æ—Å—Ç–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
* **–ü–æ —Å–æ–±—ã—Ç–∏—è–º** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
* **–ì–∏–±—Ä–∏–¥–Ω–∞—è** ‚Äî TTL + —Å–æ–±—ã—Ç–∏—è —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º —Å–æ–±—ã—Ç–∏–π

---

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

#### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
* **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
* **–û–±—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã
* **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –∑–∞–∫–∞–∑—ã –∏ –æ—Ç–∑—ã–≤—ã –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

#### **–ü—Ä–æ—Ü–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–±–∏–Ω–µ—Ç–æ–≤
3. –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ WB API
4. –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL
6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ Redis
7. –î–µ–ª—å—Ç–∞-–∞–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
8. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

#### **–¢—Ä–∏–≥–≥–µ—Ä—ã:**
* –ö–æ–º–∞–Ω–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞
* API –∑–∞–ø—Ä–æ—Å –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
* –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
* –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### **–¢–∏–ø—ã –æ—à–∏–±–æ–∫:**
* –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å WB API
* –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ rate limits
* –¢–∞–π–º–∞—É—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
* –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
* –°–±–æ–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**
* Retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
* Fallback –Ω–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
* Graceful degradation
* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

---

## üåê REST API

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –±–æ—Ç–∞

#### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏:**
* `POST /api/v1/cabinets` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞
* `GET /api/v1/cabinets` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `DELETE /api/v1/cabinets/{id}` ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞

#### **–î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–æ–≤:**
* `GET /api/v1/orders` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `GET /api/v1/orders/{id}` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ
* `GET /api/v1/orders/{id}/report` ‚Äî –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∑–∞–∫–∞–∑—É

#### **–û—Å—Ç–∞—Ç–∫–∏ –∏ —Ç–æ–≤–∞—Ä—ã:**
* `GET /api/v1/products` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
* `GET /api/v1/products/{nm_id}` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ
* `GET /api/v1/stocks` ‚Äî –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º

#### **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:**
* `GET /api/v1/analytics/sales` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
* `GET /api/v1/analytics/reviews` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
* `GET /api/v1/analytics/performance` ‚Äî –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
* `POST /api/v1/sync/start` ‚Äî –∑–∞–ø—É—Å–∫ —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
* `GET /api/v1/sync/status` ‚Äî —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –§–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤

#### **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç:**
* –ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ HTTP
* –î–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö)
* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

#### **–ü–∞–≥–∏–Ω–∞—Ü–∏—è:**
* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã `limit` –∏ `offset`
* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
* –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## üìä –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

### –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –∑–∞–∫–∞–∑–∞

#### **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
* –¢–∞–±–ª–∏—Ü–∞ `orders` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ
* –¢–∞–±–ª–∏—Ü–∞ `products` ‚Äî –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–µ
* –¢–∞–±–ª–∏—Ü–∞ `stocks` ‚Äî –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Ä–∞–∑–º–µ—Ä–∞–º
* –¢–∞–±–ª–∏—Ü–∞ `analytics_cache` ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
* –¢–∞–±–ª–∏—Ü–∞ `reviews` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–∑—ã–≤–æ–≤

#### **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
* –ü—Ä–æ–¥–∞–∂–∏ –∑–∞ 7/14/30/60/90 –¥–Ω–µ–π
* –í—ã–∫—É–ø—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
* –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–∫–∞–∑–æ–≤
* –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–≤—á–µ—Ä–∞ vs —Å–µ–≥–æ–¥–Ω—è)
* –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤

#### **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
* –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON –¥–ª—è –±–æ—Ç–∞
* –ì–æ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
* –≠–º–æ–¥–∑–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

#### **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
* –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
* –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
* TTL –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
* –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

#### **Unit —Ç–µ—Å—Ç—ã:**
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
* –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### **Integration —Ç–µ—Å—Ç—ã:**
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### **E2E —Ç–µ—Å—Ç—ã:**
* –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è ‚Üí –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí API
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º WB API
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
* –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

#### **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (100%):**
* WB API –∫–ª–∏–µ–Ω—Ç
* –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
* –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
* –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

#### **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (90%):**
* –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
* –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (80%):**
* –í—Å—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞
* –ò—Å–∫–ª—é—á–∞—è —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

#### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
* –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API (—Ü–µ–ª—å: <100ms)
* Hit rate –∫—ç—à–∞ (—Ü–µ–ª—å: >80%)
* –í—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
* –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

#### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
* –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ (—Ü–µ–ª—å: 99.9%)
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
* –í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
* –£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:**
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ Redis
* –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ PostgreSQL
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ WB API
* –†–∞–∑–º–µ—Ä –∫—ç—à–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### **–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤:**
* **ERROR** ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
* **WARNING** ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
* **INFO** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
* **DEBUG** ‚Äî –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏:**
* JSON —Ñ–æ—Ä–º–∞—Ç
* –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ ID
* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
* –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
* `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
* `DB_POOL_SIZE` ‚Äî —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
* `DB_TIMEOUT` ‚Äî —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

#### **Redis:**
* `REDIS_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis
* `REDIS_MAX_MEMORY` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å
* `REDIS_TTL_DEFAULT` ‚Äî TTL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

#### **WB API:**
* `WB_API_BASE_URL` ‚Äî –±–∞–∑–æ–≤—ã–π URL API
* `WB_API_TIMEOUT` ‚Äî —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
* `WB_RATE_LIMIT` ‚Äî –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É

#### **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
* `SYNC_INTERVAL` ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–º–∏–Ω—É—Ç—ã)
* `SYNC_BATCH_SIZE` ‚Äî —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
* `SYNC_RETRY_ATTEMPTS` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫

### Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### **–°–µ—Ä–≤–∏—Å—ã:**
* **app** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
* **postgres** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
* **redis** ‚Äî –∫—ç—à
* **scheduler** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

#### **Volumes:**
* –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ë–î
* –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

---

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

* ‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤** ‚Äî API –∫–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û)
* ‚ö†Ô∏è **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Ä—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ñ–æ–Ω–æ–≤–∞—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
* ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å TTL (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û)
* ‚úÖ **REST API** ‚Äî –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û)
* ‚úÖ **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∑–∞–∫–∞–∑–æ–≤ –≥–æ—Ç–æ–≤—ã (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

* ‚úÖ **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞** ‚Äî API –æ—Ç–≤–µ—á–∞–µ—Ç –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 100ms (–ü–†–û–í–ï–†–ï–ù–û)
* ‚úÖ **Hit rate –∫—ç—à–∞** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ü–†–û–í–ï–†–ï–ù–û)
* ‚ö†Ô∏è **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Äî —Ä—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
* ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é (–ü–†–û–í–ï–†–ï–ù–û)

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

* ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî graceful degradation –ø—Ä–∏ —Å–±–æ—è—Ö (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û)
* ‚ö†Ô∏è **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî –±–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
* ‚ö†Ô∏è **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –±–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —á–∞—Å—Ç–∏—á–Ω–æ
* ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ 80%+, 124 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–í–ï–†–ï–ù–û)

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞

* ‚úÖ **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å WB API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
* ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≥–æ—Ç–æ–≤–∞
* ‚úÖ **–ù–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ fallback —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
* ‚úÖ **–ì–æ—Ç–æ–≤—ã–µ API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram –±–æ—Ç–æ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
* ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞** —Å 124 —Ç–µ—Å—Ç–∞–º–∏ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ–º 80%+
* ‚ö†Ô∏è **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ñ–æ–Ω–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üìù –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **WB API Client** (`app/features/wb_api/client.py`) ‚Äî 15 –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WB API
- **Data Synchronizer** (`app/features/wb_api/sync_service.py`) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **Cache Manager** (`app/features/wb_api/cache_manager.py`) ‚Äî –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Database Models** (`app/features/wb_api/models.py`) ‚Äî 8 –º–æ–¥–µ–ª–µ–π SQLAlchemy
- **REST API** (`app/features/wb_api/routes.py`) ‚Äî 12 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- **Unit Tests** ‚Äî 124 —Ç–µ—Å—Ç–∞ –≤ `tests/unit/`
- **Integration Tests** ‚Äî 15 —Ç–µ—Å—Ç–æ–≤ –≤ `tests/integration/`

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLAlchemy 2.0 + PostgreSQL (SQLite –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** Redis + PostgreSQL —Å TTL —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
- **API:** FastAPI —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** pytest + asyncio + –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** Pydantic V2 —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
server/app/features/wb_api/
‚îú‚îÄ‚îÄ __init__.py                    ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ client.py                      ‚úÖ WB API Client (15 –º–µ—Ç–æ–¥–æ–≤)
‚îú‚îÄ‚îÄ sync_service.py                ‚úÖ Data Synchronizer (8 –º–µ—Ç–æ–¥–æ–≤)
‚îú‚îÄ‚îÄ cache_manager.py               ‚úÖ Cache Manager (20+ –º–µ—Ç–æ–¥–æ–≤)
‚îú‚îÄ‚îÄ models.py                      ‚úÖ Database Models (8 –º–æ–¥–µ–ª–µ–π)
‚îî‚îÄ‚îÄ routes.py                      ‚úÖ REST API (12 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
```

### –¢–µ—Å—Ç—ã:
```
server/tests/
‚îú‚îÄ‚îÄ conftest.py                    ‚úÖ –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ test_wb_models.py          ‚úÖ –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π (8 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_wb_client.py          ‚úÖ –¢–µ—Å—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞ (15 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_wb_sync_service.py    ‚úÖ –¢–µ—Å—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (20 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_wb_cache_manager.py   ‚úÖ –¢–µ—Å—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (15 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_user_models.py        ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (6 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_user_schemas.py       ‚úÖ –¢–µ—Å—Ç—ã —Å—Ö–µ–º (8 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îî‚îÄ‚îÄ test_user_crud.py          ‚úÖ –¢–µ—Å—Ç—ã CRUD (12 —Ç–µ—Å—Ç–æ–≤)
‚îî‚îÄ‚îÄ integration/
    ‚îú‚îÄ‚îÄ test_user_api.py           ‚úÖ API —Ç–µ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (8 —Ç–µ—Å—Ç–æ–≤)
    ‚îî‚îÄ‚îÄ test_wb_api_routes.py      ‚úÖ API —Ç–µ—Å—Ç—ã WB (15 —Ç–µ—Å—Ç–æ–≤)
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
```
server/app/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ config.py                  ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database.py                ‚úÖ SQLAlchemy 2.0 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ middleware.py              ‚úÖ API –∫–ª—é—á –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ features/user/
‚îÇ   ‚îú‚îÄ‚îÄ models.py                  ‚úÖ –°–≤—è–∑—å —Å WB –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                 ‚úÖ Pydantic V2 –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ crud.py                    ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ main.py                        ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WB —Ä–æ—É—Ç–µ—Ä–∞
```

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WB –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (—Ä—É—á–Ω–∞—è)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis + PostgreSQL
- ‚úÖ REST API –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

**–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram –±–æ—Ç–æ–º
- –†—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö WB
- –ü–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
