# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞

–í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–¥–∞—à–±–æ—Ä–¥–∞.

**–ë–∞–∑–æ–≤—ã–π URL –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:** `http://<SERVER_HOST>/api/v1/bot`  
**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-SECRET-KEY` —Å –≤–∞–ª–∏–¥–Ω—ã–º –∫–ª—é—á–æ–º.

**–í–µ—Ä—Å–∏—è API:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 25 –Ω–æ—è–±—Ä—è 2025

---

## –°–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

1. [–û—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º](#1-–æ—Å—Ç–∞—Ç–∫–∏-–ø–æ-—Å–∫–ª–∞–¥–∞–º) - `/stocks/all`
2. [–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂](#2-–¥–∞–Ω–Ω—ã–µ-–¥–ª—è-–≥—Ä–∞—Ñ–∏–∫–∞-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏) - `/analytics/sales`
3. [–°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞](#3-—Å–≤–æ–¥–Ω–∞—è-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞) - `/analytics/summary`
4. [–°–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤](#4-—Å–ø–∏—Å–æ–∫-—Å–∫–ª–∞–¥–æ–≤) - `/warehouses`
5. [–°–ø–∏—Å–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–≤](#5-—Å–ø–∏—Å–æ–∫-—Ä–∞–∑–º–µ—Ä–æ–≤) - `/sizes`
6. [–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã](#6-–ø–æ—Å–ª–µ–¥–Ω–∏–µ-–∑–∞–∫–∞–∑—ã) - `/orders/recent`
7. [–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞](#7-–¥–µ—Ç–∞–ª–∏-–∑–∞–∫–∞–∑–∞) - `/orders/{id}`
8. [–û—Ç–∑—ã–≤—ã](#8-–æ—Ç–∑—ã–≤—ã) - `/reviews/summary`

---

## 1. –û—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º

–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –≤—Å–µ—Ö —Å–∫–ª–∞–¥–∞—Ö, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ —Ç–æ–≤–∞—Ä–∞–º, –∏—Ö —Ä–∞–∑–º–µ—Ä–∞–º –∏ —Å–∫–ª–∞–¥–∞–º.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/stocks/all`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** 5 –º–∏–Ω—É—Ç
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
  - `limit` (query, optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15, –º–∞–∫—Å 100).
  - `offset` (query, optional): –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.
  - `warehouse` (query, optional): –§–∏–ª—å—Ç—Ä –ø–æ —Å–∫–ª–∞–¥—É (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é).
  - `size` (query, optional): –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–∑–º–µ—Ä—É (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é).
  - `search` (query, optional): –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ –∞—Ä—Ç–∏–∫—É–ª—É.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/stocks/all?telegram_id=123456789&limit=2' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è Telegram (`telegram_text`) –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ–ª–µ `stocks`.

```json
{
  "success": true,
  "telegram_text": "üì¶ *–û—Ç—á–µ—Ç –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º*\n\n*–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 1*\n_–ê—Ä—Ç–∏–∫—É–ª: NM-12345_\n\n*–°–∫–ª–∞–¥: –ö–æ–ª–µ–¥–∏–Ω–æ*\n- –†–∞–∑–º–µ—Ä: S, –û—Å—Ç–∞—Ç–æ–∫: 10 —à—Ç.\n- –†–∞–∑–º–µ—Ä: M, –û—Å—Ç–∞—Ç–æ–∫: 15 —à—Ç.\n\n*–°–∫–ª–∞–¥: –ö–∞–∑–∞–Ω—å*\n- –†–∞–∑–º–µ—Ä: S, –û—Å—Ç–∞—Ç–æ–∫: 5 —à—Ç.\n\n*–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 2*\n_–ê—Ä—Ç–∏–∫—É–ª: NM-67890_\n\n*–°–∫–ª–∞–¥: –ö–æ–ª–µ–¥–∏–Ω–æ*\n- –†–∞–∑–º–µ—Ä: L, –û—Å—Ç–∞—Ç–æ–∫: 20 —à—Ç.\n\n_–ü–æ–∫–∞–∑–∞–Ω–æ 2 –∏–∑ 10 —Ç–æ–≤–∞—Ä–æ–≤._",
  "stocks": {
    "products": [
      {
        "product_name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 1",
        "vendor_code": "NM-12345",
        "total_stock": 30,
        "warehouses": [
          {
            "warehouse_name": "–ö–æ–ª–µ–¥–∏–Ω–æ",
            "total_stock": 25,
            "sizes": [
              { "size": "S", "stock": 10 },
              { "size": "M", "stock": 15 }
            ]
          },
          {
            "warehouse_name": "–ö–∞–∑–∞–Ω—å",
            "total_stock": 5,
            "sizes": [
              { "size": "S", "stock": 5 }
            ]
          }
        ]
      },
      {
        "product_name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ 2",
        "vendor_code": "NM-67890",
        "total_stock": 20,
        "warehouses": [
          {
            "warehouse_name": "–ö–æ–ª–µ–¥–∏–Ω–æ",
            "total_stock": 20,
            "sizes": [
              { "size": "L", "stock": 20 }
            ]
          }
        ]
      }
    ],
    "pagination": {
      "offset": 0,
      "limit": 2,
      "total": 10,
      "has_more": true
    }
  },
  "status_code": 200
}
```

---

## 2. –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º, –∑–∞–∫–∞–∑–∞–º, –≤–æ–∑–≤—Ä–∞—Ç–∞–º –∏ –¥—Ä—É–≥–∏–º –º–µ—Ç—Ä–∏–∫–∞–º –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/analytics/sales`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** 15 –º–∏–Ω—É—Ç
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
  - `period` (query, optional): –ü–µ—Ä–∏–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞: `7d`, `30d`, `60d`, `90d`, `180d` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `30d`).

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/analytics/sales?telegram_id=123456789&period=7d' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Ä–∞–∑–±–∏–≤–∫—É –ø–æ –¥–Ω—è–º (–∏–ª–∏ –¥—Ä—É–≥–∏–º –ø–µ—Ä–∏–æ–¥–∞–º), –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞.

- `orders`: –ó–∞–∫–∞–∑—ã (—Å–æ–∑–¥–∞–Ω—ã)
- `buyouts`: –í—ã–∫—É–ø—ã (–ø—Ä–æ–¥–∞–∂–∏)
- `cancellations`: –û—Ç–º–µ–Ω—ã
- `returns`: –í–æ–∑–≤—Ä–∞—Ç—ã

```json
{
    "success": true,
    "data": {
        "sales_by_day": [
            {
                "date": "2025-11-18",
                "orders": { "count": 10, "amount": 15000 },
                "buyouts": { "count": 8, "amount": 12000 },
                "cancellations": { "count": 1, "amount": 1500 },
                "returns": { "count": 1, "amount": 1500 }
            },
            {
                "date": "2025-11-19",
                "orders": { "count": 12, "amount": 18000 },
                "buyouts": { "count": 10, "amount": 15000 },
                "cancellations": { "count": 2, "amount": 3000 },
                "returns": { "count": 0, "amount": 0 }
            },
            {
                "date": "2025-11-20",
                "orders": { "count": 8, "amount": 11000 },
                "buyouts": { "count": 7, "amount": 9500 },
                "cancellations": { "count": 1, "amount": 1500 },
                "returns": { "count": 0, "amount": 0 }
            },
            {
                "date": "2025-11-21",
                "orders": { "count": 15, "amount": 22000 },
                "buyouts": { "count": 13, "amount": 19000 },
                "cancellations": { "count": 2, "amount": 3000 },
                "returns": { "count": 1, "amount": 2000 }
            },
            {
                "date": "2025-11-22",
                "orders": { "count": 11, "amount": 16500 },
                "buyouts": { "count": 9, "amount": 13500 },
                "cancellations": { "count": 2, "amount": 3000 },
                "returns": { "count": 0, "amount": 0 }
            },
            {
                "date": "2025-11-23",
                "orders": { "count": 14, "amount": 21000 },
                "buyouts": { "count": 11, "amount": 16500 },
                "cancellations": { "count": 2, "amount": 3000 },
                "returns": { "count": 1, "amount": 1500 }
            },
            {
                "date": "2025-11-24",
                "orders": { "count": 18, "amount": 25000 },
                "buyouts": { "count": 15, "amount": 21000 },
                "cancellations": { "count": 3, "amount": 4000 },
                "returns": { "count": 0, "amount": 0 }
            }
        ],
        "totals": {
            "orders": { "count": 88, "amount": 128500 },
            "buyouts": { "count": 73, "amount": 106500 },
            "cancellations": { "count": 13, "amount": 19000 },
            "returns": { "count": 3, "amount": 5000 }
        },
        "dynamics": {
            "average_check": 1458.90,
            "conversion_percent": 82.95
        }
    },
    "telegram_text": "üìà *–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞ 7 –¥–Ω–µ–π*\n\n*–ó–∞–∫–∞–∑—ã*: 88 –Ω–∞ 128 500 ‚ÇΩ\n*–í—ã–∫—É–ø—ã*: 73 –Ω–∞ 106 500 ‚ÇΩ\n*–û—Ç–º–µ–Ω—ã*: 13 –Ω–∞ 19 000 ‚ÇΩ\n*–í–æ–∑–≤—Ä–∞—Ç—ã*: 3 –Ω–∞ 5 000 ‚ÇΩ\n\n*–°—Ä–µ–¥–Ω–∏–π —á–µ–∫*: 1 459 ‚ÇΩ\n*–ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –≤—ã–∫—É–ø (CR)*: 83.0%",
    "status_code": 200
}
```

---

#
# 3. –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–∞—à–±–æ—Ä–¥–∞ (–∑–∞–∫–∞–∑—ã, –≤—ã–∫—É–ø—ã, –æ—Ç–º–µ–Ω—ã, –≤–æ–∑–≤—Ä–∞—Ç—ã).

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/analytics/summary`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** 15 –º–∏–Ω—É—Ç
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
  - `period` (query, optional): –ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞: `7d`, `30d`, `60d`, `90d`, `180d` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `30d`).

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/analytics/summary?telegram_id=123456789&period=30d' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "success": true,
  "summary": {
    "orders": 2404,
    "purchases": 2034,
    "cancellations": 249,
    "returns": 121
  },
  "period": {
    "start": "2025-10-26",
    "end": "2025-11-25",
    "days": 30
  }
}
```

---

## 4. –°–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/warehouses`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** 1 —á–∞—Å
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/warehouses?telegram_id=123456789' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "success": true,
  "warehouses": [
    {
      "name": "–ö–æ–ª–µ–¥–∏–Ω–æ",
      "product_count": 150
    },
    {
      "name": "–ö–∞–∑–∞–Ω—å",
      "product_count": 80
    },
    {
      "name": "–ü–æ–¥–æ–ª—å—Å–∫",
      "product_count": 45
    }
  ]
}
```

---

## 5. –°–ø–∏—Å–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–≤

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —Å –ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/sizes`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** 1 —á–∞—Å
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/sizes?telegram_id=123456789' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "success": true,
  "sizes": [
    "XS",
    "S",
    "M",
    "L",
    "XL",
    "XXL",
    "38",
    "40",
    "42",
    "44",
    "46",
    "ONE SIZE"
  ]
}
```

---

## 6. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–∫–∞–∑–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/orders/recent`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
  - `limit` (query, optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10, –º–∞–∫—Å 100).
  - `offset` (query, optional): –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.
  - `status` (query, optional): –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É: `active` –∏–ª–∏ `canceled`.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/orders/recent?telegram_id=123456789&limit=10&status=active' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

---

## 7. –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞

–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–∫–∞–∑–µ.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/orders/{order_id}`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `order_id` (path, required): ID –∑–∞–∫–∞–∑–∞.
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/orders/12345?telegram_id=123456789' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

---

## 8. –û—Ç–∑—ã–≤—ã

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É.

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/reviews/summary`
- **–ú–µ—Ç–æ–¥:** `GET`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `telegram_id` (query, required): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
  - `limit` (query, optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10, –º–∞–∫—Å 100).
  - `offset` (query, optional): –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.
  - `rating_threshold` (query, optional): –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É (‚â§N –∑–≤–µ–∑–¥, 1-5).

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X GET 'http://127.0.0.1:8000/api/v1/bot/reviews/summary?telegram_id=123456789&rating_threshold=3' \
-H 'X-API-SECRET-KEY: your_secret_key'
```

---

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 200 | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å |
| 400 | –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ |
| 403 | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á |
| 404 | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (–∫–∞–±–∏–Ω–µ—Ç, –∑–∞–∫–∞–∑ –∏ —Ç.–¥.) |
| 422 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

---

## –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

- `Cache-Control` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏
- `X-Cache-TTL` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `Content-Type: application/json`

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JavaScript (Fetch API)

```javascript
const API_BASE_URL = 'http://localhost:8000/api/v1/bot';
const API_KEY = 'your-secret-key';

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–≤
async function getWarehouses(telegramId) {
  const response = await fetch(
    `${API_BASE_URL}/warehouses?telegram_id=${telegramId}`,
    {
      headers: {
        'X-API-SECRET-KEY': API_KEY
      }
    }
  );
  return response.json();
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
async function getStocks(telegramId, filters = {}) {
  const params = new URLSearchParams({
    telegram_id: telegramId,
    ...filters
  });
  
  const response = await fetch(
    `${API_BASE_URL}/stocks/all?${params}`,
    {
      headers: {
        'X-API-SECRET-KEY': API_KEY
      }
    }
  );
  return response.json();
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const warehouses = await getWarehouses(123456789);
const stocks = await getStocks(123456789, {
  warehouse: '–ö–æ–ª–µ–¥–∏–Ω–æ',
  size: 'M',
  limit: 20
});
```

### Python (requests)

```python
import requests

API_BASE_URL = 'http://localhost:8000/api/v1/bot'
API_KEY = 'your-secret-key'

headers = {'X-API-SECRET-KEY': API_KEY}

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–¥–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
response = requests.get(
    f'{API_BASE_URL}/analytics/summary',
    params={'telegram_id': 123456789, 'period': '30d'},
    headers=headers
)
data = response.json()
print(data['summary'])

# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º
response = requests.get(
    f'{API_BASE_URL}/stocks/all',
    params={
        'telegram_id': 123456789,
        'search': '—Ñ—É—Ç–±–æ–ª–∫–∞',
        'limit': 50
    },
    headers=headers
)
stocks = response.json()
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/api/ANALYTICS_DASHBOARD_API.md`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è:** `docs/deployment/DASHBOARD_ENV_CONFIG.md`
- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:** `docs/testing/DASHBOARD_TESTING_GUIDE.md`
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º –ë–î:** `docs/database/INDEXES_RECOMMENDATIONS.md`

---

## Changelog

### 2025-11-25 - Version 1.0

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/analytics/summary` - —Å–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/warehouses` - —Å–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤
- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/sizes` - —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–∫–ª–∞–¥–∞–º –∏ —Ä–∞–∑–º–µ—Ä–∞–º –≤ `/stocks/all`
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –∞—Ä—Ç–∏–∫—É–ª—É –≤ `/stocks/all`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤ 60d, 90d, 180d –≤ `/analytics/sales`
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- –ü–µ—Ä–∏–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `/analytics/sales` –∏–∑–º–µ–Ω–µ–Ω —Å `7d` –Ω–∞ `30d`
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
