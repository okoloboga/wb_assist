# üî¨ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: –°–±–æ—Ä —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–¥—Ä–∞ (SSEMANTIC)

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–±–æ—Ä–∞, –∞–Ω–∞–ª–∏–∑–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–¥—Ä–∞ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª—É—á–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏ —Ñ—Ä–∞–∑, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Å–≤–æ–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

---

## üåä –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π (User Flow)

1.  **–í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–º –∏ –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–æ–≤—É—é –∫–Ω–æ–ø–∫—É **"–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ"**.
2.  **–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:** –ë–æ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–æ–±—Ä–∞–Ω—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–Ω—É –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
3.  **–ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞:** –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–Ω–∞–ª–∏–∑–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: *"–ó–∞–ø—É—Å—Ç–∏–ª –∞–Ω–∞–ª–∏–∑ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–¥—Ä–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ '{category_name}'. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç. –Ø –ø—Ä–∏—à–ª—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤."*
4.  **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –±–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≥–æ—Ç–æ–≤—ã–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º —è–¥—Ä–æ–º, –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏: **–ë–æ—Ç**, **–°–µ—Ä–≤–µ—Ä** –∏ **GPT-—Å–µ—Ä–≤–∏—Å**.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram Bot ‚îÇ      ‚îÇ   –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä  ‚îÇ      ‚îÇ   GPT-—Å–µ—Ä–≤–∏—Å      ‚îÇ
‚îÇ (bot)        ‚îÇ      ‚îÇ   (server)       ‚îÇ      ‚îÇ (gpt_integration) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ 1. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É     ‚îÇ                           ‚îÇ
       ‚îÇ "–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ" ‚îÇ                           ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ 2. GET /competitors/{id}/categories ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ 3. –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏‚îÇ                           ‚îÇ
       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                           ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ 4. –í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚îÇ                           ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ 5. POST /competitors/{id}/semantic-core ‚îÇ
       ‚îÇ                      ‚îÇ    (–ó–∞–ø—É—Å–∫ Celery-–∑–∞–¥–∞—á–∏)   ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ 6. –£–≤–µ–¥–æ–º–∏—Ç—å –æ –Ω–∞—á–∞–ª–µ‚îÇ                           ‚îÇ
       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                           ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ                      ‚îÇ 7. Celery Task:           ‚îÇ
       ‚îÇ                      ‚îÇ    - –°–æ–±—Ä–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –ë–î ‚îÇ
       ‚îÇ                      ‚îÇ    - –û–±—Ä–µ–∑–∞—Ç—å —Ç–µ–∫—Å—Ç (–ª–∏–º–∏—Ç) ‚îÇ
       ‚îÇ                      ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ 8. POST /semantic-core/generate ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ 9. –ó–∞–ø—Ä–æ—Å –∫ ChatGPT
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ                      ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ 10. –í–µ—Ä–Ω—É—Ç—å —è–¥—Ä–æ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ                      ‚îÇ 11. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —è–¥—Ä–æ –≤ –ë–î   ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
       ‚îÇ 13. –ü–æ–∫–∞–∑–∞—Ç—å —è–¥—Ä–æ    ‚îÇ 12. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç   ‚îÇ
       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§    (—á–µ—Ä–µ–∑ Webhook)        ‚îÇ
       ‚îÇ                      ‚îÇ                           ‚îÇ
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### **1. –ë–æ—Ç (`bot`)**

-   **`bot/handlers/competitors.py`**:
    -   –í –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É `create_competitor_menu_keyboard` –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É: `InlineKeyboardButton(text="üíé –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ", callback_data=f"competitor_semantic_core_{competitor_id}")`.
    -   –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è `F.data.startswith("competitor_semantic_core_")`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É —Å–µ—Ä–≤–µ—Ä–∞ —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ `GET /api/v1/bot/competitors/{id}` (—ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç —É–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –≤–∏–¥–µ inline-–∫–Ω–æ–ø–æ–∫.
    -   –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (`F.data.startswith("competitor_category_core_")`), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Å–æ–æ–±—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –Ω–∞—á–∞–ª–µ –ø—Ä–æ—Ü–µ—Å—Å–∞.
-   **`bot/handlers/webhook.py`**:
    -   –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ webhook-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (`semantic_core_ready`), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≥–æ—Ç–æ–≤–æ–µ —è–¥—Ä–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### **2. –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (`server`)**

-   **–ù–æ–≤—ã–π API-—ç–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/v1/bot/competitors/{competitor_id}/semantic-core`
    -   –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `category_name` –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞.
    -   –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ `competitor_semantic_cores` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`.
    -   –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É Celery `generate_semantic_core_task.delay(core_id)`.
-   **–ù–æ–≤–∞—è Celery-–∑–∞–¥–∞—á–∞ (`generate_semantic_core_task`):**
    1.  –ü–æ–ª—É—á–∞–µ—Ç –∏–∑ –ë–î –≤—Å–µ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (`description` –∏–∑ `competitor_products`) –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ `competitor_id` –∏ `category_name`.
    2.  –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤ –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –±–ª–æ–∫.
    3.  **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–æ–∫–µ–Ω–æ–≤:** –û–±—Ä–µ–∑–∞–µ—Ç —Ç–µ–∫—Å—Ç, –µ—Å–ª–∏ –µ–≥–æ –¥–ª–∏–Ω–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç, –∑–∞–¥–∞–Ω–Ω—ã–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `SEMANTIC_CORE_MAX_TEXT_LENGTH`.
    4.  –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ `gpt_integration`.
    5.  –ü–æ–ª—É—á–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ `competitor_semantic_cores`: –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `completed` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —è–¥—Ä–æ.
    6.  –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±–æ—Ç—É —Å –≥–æ—Ç–æ–≤—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.
    7.  –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `error`.

### **3. GPT-—Å–µ—Ä–≤–∏—Å (`gpt_integration`)**

-   **–ù–æ–≤—ã–π API-—ç–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/v1/semantic-core/generate`
    -   –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ `{"text": "..."}`.
    -   –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è ChatGPT, –∏—Å–ø–æ–ª—å–∑—É—è —à–∞–±–ª–æ–Ω –Ω–∏–∂–µ.
    -   –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ OpenAI.
    -   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ç–µ–∫—Å—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–¥—Ä–∞).

### **4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**

-   **–ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `competitor_semantic_cores`:**
    -   `id`: `Integer`, `primary_key=True`
    -   `competitor_link_id`: `Integer`, `ForeignKey("competitor_links.id")`
    -   `category_name`: `String`, `nullable=False`
    -   `core_data`: `Text`, `nullable=True` (–∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç ChatGPT)
    -   `status`: `String`, `default='pending'` (pending, processing, completed, error)
    -   `created_at`: `DateTime`, `default=func.now()`
    -   `completed_at`: `DateTime`, `nullable=True`

---

## ü§ñ –ü—Ä–æ–º–ø—Ç –¥–ª—è ChatGPT

```text
–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä–Ω—ã–µ –Ω–∏—à–∏. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–∏—Å–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–æ—Å—Ç–∞–≤—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ.

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
1. –†–∞–∑–±–µ–π –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã –∏ —Å–ª–æ–≤–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –≥—Ä—É–ø–ø—ã (–∫–ª–∞—Å—Ç–µ—Ä—ã):
   - **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞:** (–º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
   - **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –≤—ã–≥–æ–¥—ã:** (—á—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å: —É–¥–æ–±—Å—Ç–≤–æ, –∫–æ–º—Ñ–æ—Ä—Ç, —ç–∫–æ–Ω–æ–º–∏—è)
   - **–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:** (–∫–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç —Ç–æ–≤–∞—Ä: "–Ω–µ –º–Ω–µ—Ç—Å—è" -> —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –≥–ª–∞–∂–∫–∏)
   - **–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** (–¥–ª—è –∫–æ–≥–æ –∏ –¥–ª—è —á–µ–≥–æ: "–¥–ª—è –æ—Ñ–∏—Å–∞", "–Ω–∞ –ø—Ä–∏—Ä–æ–¥—É", "–¥–ª—è –ø–æ–¥–∞—Ä–∫–∞")
   - **–≠–º–æ—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã:** ("—Å—Ç–∏–ª—å–Ω—ã–π", "—ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π", "–º–æ–¥–Ω—ã–π", "–ø–æ–ø—É–ª—è—Ä–Ω—ã–π")

2. –í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –≤—ã–¥–µ–ª–∏ —Å–∞–º—ã–µ —á–∞—Å—Ç–æ—Ç–Ω—ã–µ –∏ –≤–∞–∂–Ω—ã–µ —Ñ—Ä–∞–∑—ã.

3. –ü—Ä–µ–¥—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —á–µ—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: [–ì—Ä—É–ø–ø–∞ | –ö–ª—é—á–µ–≤–∞—è —Ñ—Ä–∞–∑–∞ | –ü—Ä–∏–º–µ—Ä –∏–∑ —Ç–µ–∫—Å—Ç–∞ | –ß–∞—Å—Ç–æ—Ç–∞ (–≤—ã—Å–æ–∫–∞—è/—Å—Ä–µ–¥–Ω—è—è/–Ω–∏–∑–∫–∞—è)].

–°–ø–∏—Å–æ–∫ –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
[–°–Æ–î–ê –ë–£–î–ï–¢ –í–°–¢–ê–í–õ–ï–ù –û–ë–™–ï–î–ò–ù–ï–ù–ù–´–ô –¢–ï–ö–°–¢ –û–ü–ò–°–ê–ù–ò–ô]
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

-   **`SEMANTIC_CORE_MAX_TEXT_LENGTH`**:
    -   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –≤ ChatGPT, –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–∫–µ–Ω–æ–≤.
    -   **–°–µ—Ä–≤–∏—Å:** `server`
    -   **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `15000` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ~4000 —Ç–æ–∫–µ–Ω–∞–º –¥–ª—è –º–æ–¥–µ–ª–∏ gpt-3.5-turbo, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å).
